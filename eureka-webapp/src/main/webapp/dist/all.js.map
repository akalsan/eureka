{"version":3,"sources":["module.js","cohorts/module.js","config/app-properties.js","controllers/editorController.js","controllers/mainController.js","controllers/registerController.js","controllers/tabController.js","directives/editordirective.js","directives/jstree.js","services/cohortService.js","services/editorService.js","services/list-drag-and-drop-service.js","services/registerService.js","services/users.js","cohorts/views/edit/edit-controller.js","cohorts/views/main/main-controller.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular.module('eureka', ['ui.router', 'angularValidator']);\n\n    function eurekaRun($rootScope, appProperties, users) {\n       $rootScope.app = appProperties;\n       $rootScope.user = {\n           isActivated: false\n       };\n       $rootScope.conceptionYear = '2012';\n       $rootScope.currentYear = new Date().getFullYear();\n       users.getUser().then(function(user) {\n           $rootScope.user = user;\n       });\n    }\n\n    function eurekaConfig($stateProvider, $urlRouterProvider){\n\n        $urlRouterProvider.otherwise('/index');\n\n        $stateProvider\n            .state('index', {\n                url: '/index',\n                templateUrl: 'eureka/views/main.html',\n                controller: 'MainController'\n            })\n            .state('register', {\n                url: '/register',\n                templateUrl: 'eureka/views/register/register.html',\n                controller: 'RegisterController'\n            })\n            .state('registerInfo', {\n                url: '/register_info',\n                templateUrl: 'eureka/views/register/registration_info.html',\n                controller: 'RegisterController'\n            })\n            .state('cohortHome', {\n                url: '/cohort_home',\n                templateUrl: 'eureka/cohorts/views/main/cohort_home.html',\n                controller: 'MainController',\n                controllerAs: 'cohortController'\n            })\n            .state('newCohort', {\n                url: '/edit_cohort',\n                templateUrl: 'eureka/views/cohorts/edit_cohort.html',\n                controller: 'CohortEditController',\n                controllerAs: 'cohortEditController'\n            })\n            .state('cohortEditKey', {\n                url: '/edit_cohort/:key',\n                templateUrl: 'eureka/views/cohorts/edit_cohort_key.html',\n                controller: 'CohortEditController',\n                controllerAs: 'cohortEditController'\n            });\n    }\n\n    eurekaRun.$inject = ['$rootScope', 'appProperties', 'users'];\n    eurekaConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\n\n    angular.module('eureka').run(eurekaRun);\n    angular.module('eureka').config(eurekaConfig);\n\n}());\n","(function(){\n\t'use strict';\n\tangular.module('cohorts',[]);\n\n\n}());","(function() {\n\n    'use strict';\n\n    var appProperties = {\n        demoMode: true,\n        ephiProhibited: true,\n        registrationEnabled: true,\n        aiwSiteUrl: 'http://aiw.sourceforge.net',\n        organizationName: 'Emory University',\n        apiEndpoint: '/eureka-services/api/protected'\n    };\n\n    angular.module('eureka').value('appProperties', appProperties);\n\n}());","\n\nangular.module('eureka').controller(\n    \"EditorController\", ['$scope', 'EditorService', '$location',\n    function( $scope, EditorService, $location) {\n\n        var vm = this;\n        var messages = {\n            'CATEGORIZATION': {\n                'displayName': \"Category\",\n                'description': \"For defining a significant category of codes or clinical events or observations.\"\n            },\n            'TEMPORAL': {\n                'displayName': \"Temporal\",\n                'description': \"For defining a disease, finding or patient care process to be reflected by codes,clinical events and/or observations in a specified frequency, sequential or other temporal patterns.\"\n            },\n            'SEQUENCE': {\n                'displayName': \"Sequence\",\n                'description': \"For defining a disease, finding or patient care process to be reflected by codes,clinical events and/or observations in a specified sequential temporal pattern.\"\n            },\n            'FREQUENCY': {\n                'displayName': \"Frequency\",\n                'description': \"For defining a disease, finding or patient care process to be reflected by codes,clinical events and/or observations in a specified frequency.\"\n            },\n            'VALUE_THRESHOLD': {\n                'displayName': \"Value Threshold\",\n                'description': \"For defining clinically significant thresholds on the value of an observation.\"\n            }\n        };\n        vm.messages = messages;\n\n        EditorService.getSummarizedUserElements().then(function(data) {\n            vm.props = data;\n\n\n        }, displayError);\n\n        function displayError(msg) {\n            vm.errorMsg = msg;\n        }\n    }]\n    /*\n\n     passwordChange.error.internalServerError=Error while changing password.\n     deleteDataElement.error.internalServerError=Error trying to delete data element. There is a problem with Eureka!.\n     registerUserServlet.fullName={0} {1}\n     registerUserServlet.error.unspecified=Please contact {0} for assistance.\n     registerUserServlet.error.localAccountConflict=An account with your email address already exists.\n\n     */\n);","(function() {\n\n'use strict';\n\nangular.module('eureka').controller('MainController', function() {\n\n});\n\n}());","/*angular.module('eurekaApp').controller(\n    \"RegisterController\",['$scope', 'RegisterService', '$location',\n    function( $scope, RegisterService, $location) {\n\n        $scope.addNewAccount = function (newAccount) {\n            RegisterService.addNewAccount(newAccount).then(handleSuccess,displayError);\n        };\n\n        function handleSuccess(data) {\n            $location.path(\"/register_info\");\n        }\n\n        function displayError(msg) {\n            $scope.errorMsg = msg;\n        }\n\n    }]\n); */\n\n(function() {\n    'use strict';\n\n    angular\n        .module('eureka')\n        .controller('RegisterController', RegisterController);\n        \n    RegisterController.$inject = ['RegisterService', '$location'];\n    \n    function RegisterController(RegisterService, $location) {\n        var vm = this;\n        vm.addNewAccount = addNewAccount;\n\n        function addNewAccount(newAccount) {\n            RegisterService.addNewAccount(newAccount).then(handleSuccess,displayError);\n        }\n\n        function handleSuccess(data) {\n            $location.path(\"/register_info\");\n        }\n\n        function displayError(msg) {\n            $scope.errorMsg = msg;\n        }\n     }\n})();","angular.module('eureka').controller('TabController', function () {\n    this.tab = 1;\n\n    this.setTab = function (tabId) {\n        this.tab = tabId;\n    };\n\n    this.isSet = function (tabId) {\n        return this.tab === tabId;\n    };\n});","(function(){\n    angular.module('eureka').directive('editordirective', [\n        '$http', '$templateCache', '$timeout', 'listDragAndDropService',\n        function (http, templateCache, timer, listDragAndDropService) {\n\n            return {\n                scope: {\n                    item: '=editordirective'\n                },\n                replace: true,\n                restrict: 'EA',\n                templateUrl: 'app/views/phenotype-li-template.html',\n                link: function (scope, element, attrs, ctrl, transclude) {\n                    scope.$watch('$last', function (v) {\n                        var editorAction = function () {\n\n                            $('ul.sortable').each(function (i, list) {\n                                $(list).find('li').each(function (j, item) {\n                                    listDragAndDropService.addDroppedElement(item, $(list));\n                                });\n\n                                $('span.delete-icon').each(function (i, item) {\n                                    $(item).click(function () {\n                                        var $toRemove = $(item).closest('li');\n                                        var $sortable = $toRemove.closest('ul.sortable');\n                                        var dialog = $('#deleteModal');\n                                        $(dialog).find('#deleteContent').html('Are you sure you want to remove ' +\n                                        'data element &quot;' + $toRemove.text().trim() + '&quot;?');\n                                        $(dialog).find('#deleteButton').on('click', function (e) {\n                                            listDragAndDropService.deleteItem($toRemove, $sortable, 0);\n                                            $(dialog).modal('hide');\n                                        });\n                                        $(dialog).modal('show');\n                                    });\n                                });\n                            });\n                            var parent = element.parent();\n                            if (parent.is('div')) {\n                                parent.append($('<ul></ul>').\n                                    attr('data-drop-type', 'multiple').\n                                    attr('data-proptype', 'empty').\n                                    addClass('sortable').append(element.parent().children()));\n\n                            }\n\n                        };\n\n                        timer(editorAction, 0);\n\n                    });\n                }\n            };\n\n        }\n    ]);\n}());","(function(){\n    'use strict';\n    angular.module('eureka').directive('jstree', [ 'listDragAndDropService', function (listDragAndDropService) {\n\n        return {\n            scope: {\n                data: '='\n            },\n            template: '<div id=\"filter\">Tree did not load.</div>',\n            restrict: 'E',\n            controller: function ($scope, $element, $attrs,$rootScope) {\n\n            },\n            link: function (scope, element, attrs) {\n                self.droppedElements = {};\n                self.propId = null;\n                self.propType = null;\n                self.propSubType = null;\n                var initData = null;\n                var searchUpdateDivElem = attrs.searchUpdateDiv;\n                var searchValidationModalElem =  attrs.searchValidationModal;\n                var searchNoResultsModalElem = attrs.searchNoResultsModal;\n                var treeCssUrl = attrs.treeCssUrl;\n\n                $(element).jstree({\n                    core: {\n                        data: {\n                            url: attrs.treeUrl,\n                            dataType: 'json',\n                            data: function (n) {\n                                return {\n                                    key: n.id === '#' ? 'root' : n.id\n                                };\n                            },\n\n                        },\n\n                    },\n\n\n                    plugins: [ 'themes', 'json_data', 'ui', 'crrm', 'dnd', 'search' ]\n                });\n\n                $(element).before(\n                    $('<form id=\"search\">' +\n                        '<span></span>' +\n                        '<div class=\"input-group\"><input id=\"searchText\" class=\"form-control\" type=\"text\" />' +\n                        '<div class=\"input-group-btn\">' +\n                        '<input id=\"searchTree\" class=\"btn btn-default\" type=submit value=\"search\" />' +\n                        '<input class=\"btn btn-default\" type=\"reset\" value=\"X\" /></div></div>' +\n                        '</form>').\n                        bind({\n                            reset: function(evt){\n                                $(element).jstree('clear_search');\n                                $(element).jstree(true).settings.core.data = initData;\n                                $(element).jstree(true).refresh();\n                                $('#search span').html('');\n                            },\n\n                            submit: function(evt){\n                                $(element).jstree('clear_search');\n                                var searchvalue = $('#search input[type=\"text\"]').val();\n                                initData = $(element).jstree(true).settings.core.data;\n                                if(searchvalue!='' && searchvalue.length>=4) {\n                                    $(element).hide();\n                                    var $elem = $(searchUpdateDivElem);\n                                    $elem.text('Search is in progress. Please wait...');\n                                    $elem.show();\n\n\n                                    $(element).jstree('destroy');\n                                    $(element).jstree({\n                                        'core' : {\n                                            'data': {\n                                                'url': function (node) {\n                                                    return node.id === '#' ?\n                                                    attrs.treeSearch + '?str='+searchvalue :\n                                                        attrs.treeUrl;\n\n                                                },\n                                                'dataType': 'json',\n                                                'data': function (node) {\n                                                    return {\n                                                        key: node.id === '#' ? 'root' : node.id\n\n                                                    };\n                                                }\n                                            }\n                                        },\n                                        'themes': {\n                                            'name': 'default',\n                                            'theme': 'default',\n                                            'url': treeCssUrl\n                                        },\n                                        'plugins': [ 'themes', 'json_data', 'ui', 'crrm', 'dnd', 'search' ]\n                                    }).bind('loaded.jstree', function (e, data) {\n\n                                        if (data.instance._cnt == 0) {\n                                            console.log('empty');\n                                            var $elem = $(searchNoResultsModalElem);\n                                            $elem.find('#searchContent').html('There are no entries in our database that matched your search criteria.');\n                                            $elem.modal('toggle');\n\n                                            $elem.hide();\n                                            $(element).jstree('clear_search');\n                                            $(element).jstree(true).settings.core.data = initData;\n                                            $(element).jstree(true).refresh();\n                                            $('#searchText').val('');\n\n                                            $(element).show();\n\n                                            $elem = $(searchUpdateDivElem);\n                                            $elem.hide();\n\n                                        }\n                                        else if (data.instance._cnt > 200) {\n                                            var $elem = $(searchModalElem);\n                                            $elem.find('#searchContent').html('The number of search results exceeded the  '+\n                                                ' maximum limit and all results might not be displayed.'+\n                                                ' Please give a more specific search query to see all results.');\n                                            $elem.modal('toggle');\n\n                                            $elem.hide();\n                                            $(element).jstree('clear_search');\n                                            $(element).jstree(true).settings.core.data = initData;\n                                            $(element).jstree(true).refresh();\n                                            $('#searchText').val('');\n\n                                            $(element).show();\n\n                                            $elem = $(searchUpdateDivElem);\n                                            $elem.hide();\n\n                                        }\n\n                                    });\n\n\n                                    $elem.hide();\n                                    $(element).show();\n\n\n                                } else if(searchvalue.length<4){\n                                    var $elem = $(searchValidationModalElem);\n                                    $elem.find('#searchContent').html('Please enter a search value with length greater than 3.');\n                                    $elem.modal('toggle');\n                                    $(element).show();\n\n                                }\n                                return false;\n                            }\n\n\n                        })\n                );\n\n                $(document).on('dnd_move.vakata', function (e, data) {\n                    var t = $(data.event.target);\n                    if(!t.closest('.jstree').length) {\n                        if (t.closest('.tree-drop').length) {\n                            data.helper.find('.jstree-icon').removeClass('jstree-er').addClass('jstree-ok');\n                        }\n                        else {\n                            data.helper.find('.jstree-icon').removeClass('jstree-ok').addClass('jstree-er');\n                        }\n                    }\n\n                });\n\n                $(document).on('dnd_stop.vakata', function (e, data) {\n                    self.dropFinishCallback(data);\n\n\n                });\n\n                self.attachClearModalHandlers = function () {\n                    var deleteModal = $('#deleteModal');\n                    if (deleteModal) {\n                        var $deleteButton = $(deleteModal).find('#deleteButton');\n                        $(deleteModal).on('hidden.bs.modal', function(e) {\n                            $deleteButton.off('click');\n                        });\n                    }\n                    var replaceModal = $('#replaceModal');\n                    if (replaceModal) {\n                        var $replaceButton = $(replaceModal).find('#replaceButton');\n                        $(replaceModal).on('hidden.bs.modal', function(e) {\n                            $replaceButton.off('click');\n                        });\n                    }\n                };\n\n\n\n                self.dropFinishCallback = function (data) {\n                    var target = data.event.target;\n                    // SBA\n                    target = $(target).closest('#patCohortDefinition');\n                    var textContent = data.data.origin.get_node(data.data.obj[0].id).original.text;\n\n                    if (listDragAndDropService.idIsNotInList(target, data.data.obj[0].id)) {\n                        var sortable = $(target).find('ul.sortable');\n                        var elementKey = data.data.obj[0].id;\n                        var newItem = $('<li></li>')\n                            .attr('data-space', data.data.origin.get_node(elementKey).original.attr['data-space'])\n                            .attr('data-desc', textContent)\n                            .attr('data-type', data.data.origin.get_node(elementKey).original.attr['data-type'])\n                            .attr('data-subtype',data.data.origin.get_node(elementKey).original.attr['data-subtype'] || '')\n                            .attr('data-key', data.data.origin.get_node(elementKey).original.attr['data-proposition'] ||\n                            data.data.origin.get_node(elementKey).original.attr['data-key']);\n\n\n                        // check that all types in the categorization are the same\n                        // SBA look here\n                        if ($(sortable).data('drop-type') === 'multiple' && $(sortable).data('proptype') !== 'empty') {\n                            if ($(sortable).data('proptype') !== $(newItem).data('type')) {\n                                return;\n                            }\n                        } else {\n                            var tmptype = $(newItem).data('type');\n                            $(sortable).data('proptype', tmptype);\n                        }\n\n                        //this loop is executed only during replacement of a system element when droptype==single. In all other\n                        // cases(adding element to multiple droptype lists, adding a new element to an empty list) the else\n                        // statement is executed.\n                        if ($(sortable).data('drop-type') === 'single' && $(sortable).find('li').length > 0) {\n                            var $toRemove = $(sortable).find('li');\n                            var dialog = $('#replaceModal');\n                            $(dialog).find('#replaceContent').html('Are you sure you want to replace data element &quot;' + $toRemove.text().trim() + '&quot;?');\n                            $(dialog).find('#replaceButton').on('click', function (e) {\n                                listDragAndDropService.deleteItem($toRemove, $(sortable), 0);\n                                listDragAndDropService.addNewItemToList(data, $(sortable), newItem);\n                                $(dialog).modal('hide');\n                            });\n                            $(dialog).modal('show');\n                        }\n                        else {\n                            listDragAndDropService.addNewItemToList(data, sortable, newItem);\n                        }\n                    }\n                };\n\n            }\n        };\n    }]);\n}());","angular.module('eureka').factory(\n    \"CohortService\", ['$http', '$q',\n        function( $http, $q ) {\n\n            return ({\n                getCohorts: getCohorts,\n                getCohort: getCohort,\n                getSystemElement: getSystemElement,\n                getPhenotypes: getPhenotypes,\n                removeCohort: removeCohort\n            });\n\n            function getCohorts() {\n\n                var type = \"COHORT\";\n                return $http.get(\"/eureka-services/api/protected/destinations?type=\" + type)\n                    .then(handleSuccess, handleError);\n\n            }\n\n            function removeCohort(key) {\n\n                return $http['delete'](\"/eureka-webapp/proxy-resource/destinations/\" + key)\n                    .then(handleSuccess, handleError);\n\n            }\n\n            function getSystemElement(key) {\n\n                return $http.get(\"/eureka-services/api/protected/systemelement/\" + key + \"?summary=true\")\n                    .then(handleSuccess, handleError);\n\n            }\n            function getCohort(cohortId) {\n\n                return $http.get(\"/eureka-services/api/protected/destinations/\" + cohortId)\n                    .then(handleSuccess, handleError);\n\n            }\n            function getPhenotypes(cohort) {\n\n\n                var cohorts = new Array();\n\n                function traverse(node) {\n\n                    if (node.left_node != undefined) {\n                        traverse(node.left_node);\n                    }\n\n                    if (node.name != undefined) {\n                        cohorts.push(node.name);\n                    }\n\n                    if (node.right_node != undefined) {\n                        traverse(node.right_node);\n                    }\n                }\n\n                traverse(cohort.node);\n\n                var promises = [];\n                angular.forEach(cohorts, function(cohort){\n                    var promise = $http.get(\"/eureka-services/api/protected/systemelement/\" + cohort + \"?summary=true\");\n                    promises.push(promise);\n\n                });\n\n                return $q.all(promises);\n\n            }\n            function handleSuccess(response) {\n                return response.data;\n            }\n            function handleError(response) {\n                if (!angular.isObject(response.data) && !response.data) {\n                    return ($q.reject(\"An unknown error occurred.\"));\n                }\n                return ($q.reject(response.data));\n            }\n        }]\n);","\n\nangular.module('eureka').factory(\n    \"EditorService\",['$http', '$q',\n    function( $http, $q ) {\n\n        return ({\n            getSummarizedUserElements: getSummarizedUserElements\n        });\n\n        function getSummarizedUserElements() {\n            return $http.get(\"/eureka-services/api/protected/dataelement?summarize=true\")\n                .then(handleSuccess, handleError);\n        }\n\n        function handleSuccess(response) {\n            return response.data;\n        }\n\n        function handleError(response) {\n            if (!angular.isObject(response.data) && !response.data) {\n                return ($q.reject(\"An unknown error occurred.\"));\n            }\n            return ($q.reject(response.data));\n        }\n    }]\n);","(function(){\n    'use strict';\n    angular.module('eureka').factory('listDragAndDropService', [ function() {\n\n\n        return ({\n            getIn: getIn,\n            setIn: setIn,\n            removeIn: removeIn,\n            objSize: objSize,\n            addDroppedElement: addDroppedElement,\n            deleteElement: deleteElement,\n            deleteItem: deleteItem,\n            removeDroppedElement: removeDroppedElement,\n            addNewItemToList: addNewItemToList,\n            idIsNotInList: idIsNotInList,\n            setPropositionSelects: setPropositionSelects,\n            attachDeleteAction: attachDeleteAction\n\n        });\n\n        function getIn(obj, path) {\n            var current = obj;\n            for (var i = 0; i < path.length; i++) {\n                current = current[path[i]];\n                if (!current) {\n                    break;\n                }\n            }\n            return current;\n        }\n\n        function setIn(obj, path, value) {\n            var current = obj;\n            for (var i = 0; i < path.length - 1; i++) {\n                var tmp = current[path[i]];\n                if (!tmp) {\n                    tmp = {};\n                    current[path[i]] = tmp;\n                }\n                current = tmp;\n            }\n            current[path[path.length - 1]] = value;\n        }\n\n        function removeIn(obj, path) {\n            var current = obj;\n            for (var i = 0; i < path.length - 1; i++) {\n                current = current[path[i]];\n                if (current === null) {\n                    break;\n                }\n            }\n            delete current[path[path.length - 1]];\n        }\n\n        function objSize(obj) {\n            var size = 0;\n            for (var key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    size++;\n                }\n            }\n            return size;\n        }\n\n        function addDroppedElement(dropped, dropTarget) {\n            var elementKey = $(dropped).data('key');\n            var sourceId = $(dropTarget).data('count');\n            var sourcePath = [self.propType, elementKey, 'sources', sourceId];\n            var defPath = [self.propType, elementKey, 'definition'];\n            var definition = getIn(self.droppedElements, defPath);\n\n            setIn(self.droppedElements, sourcePath, dropTarget);\n            if (!definition) {\n                var properties = ['key', 'desc', 'type', 'subtype', 'space'];\n                definition = {};\n                $.each(properties, function (i, property) {\n                    definition[property] = $(dropped).data(property);\n                });\n                setIn(self.droppedElements, defPath, definition);\n            }\n\n            var allSourcesPath = [self.propType, elementKey, 'sources'];\n            var allSources = getIn(self.droppedElements, allSourcesPath);\n            var size = objSize(allSources);\n            function iterateItems(i, item) {\n                var span = $(item).find('span.desc');\n                var newText = $(dropped).data('desc') + ' [' + $(source).data('count') + ']';\n                $(span).text(newText);\n            }\n            if (size > 1) {\n                for (var key in allSources) {\n                    if (allSources.hasOwnProperty(key)) {\n                        var source = allSources[key];\n                        var items = $(source).find('li');\n                        $(items).each(iterateItems);\n                    }\n                }\n            }\n        }\n\n        function deleteElement(displayName, key) {\n            var $dialog = $('<div></div>')\n                .html('Are you sure you want to delete cohort &quot;' +\n                displayName.trim() + '&quot;? You cannot undo this action.')\n                .dialog({\n                    title: 'Delete Data Element',\n                    modal: true,\n                    resizable: false,\n                    buttons: {\n                        'Delete': function () {\n                            $.ajax({\n                                type: 'POST',\n                                url: 'deletecohort?key=' + encodeURIComponent(key),\n                                success: function (data) {\n                                    $(this).dialog('close');\n                                    window.location.href = 'editorhome';\n                                },\n                                error: function (data, statusCode) {\n                                    var $errorDialog = $('<div></div>')\n                                        .html(data.responseText)\n                                        .dialog({\n                                            title: 'Error Deleting Data Element',\n                                            buttons: {\n                                                'OK': function () {\n                                                    $(this).dialog('close');\n                                                }\n                                            },\n                                            close: function () {\n                                                $dialog.dialog('close');\n                                            }\n                                        });\n                                    $errorDialog.dialog('open');\n                                }\n                            });\n                        },\n                        'Cancel': function () {\n                            $(this).dialog('close');\n                        }\n                    },\n                    close: function () {\n                        // do nothing here.\n                    }\n                });\n            $dialog.dialog('open');\n        }\n\n\n        function removeDroppedElement(removed, removeTarget) {\n            var elementKey = $(removed).data('key');\n            var sourceId = $(removeTarget).data('count');\n            var path = [self.propType, elementKey, 'sources', sourceId];\n            removeIn(self.droppedElements, path);\n\n            var allSourcesPath = [self.propType, elementKey, 'sources'];\n            var allSources = getIn(self.droppedElements, allSourcesPath);\n            var size = objSize(allSources);\n            function iterateItems(i, item) {\n                var span = $(item).find('span.desc');\n                var newText = $(removed).data('desc');\n                $(span).text(newText);\n            }\n            if (size <= 1) {\n                for (var key in allSources) {\n                    if (allSources.hasOwnProperty(key)) {\n                        var source = allSources[key];\n                        var items = $(source).find('li');\n                        $(items).each(iterateItems);\n                    }\n                }\n            }\n        }\n\n        function deleteItem(toRemove, sortable, replace) {\n            var infoLabel = sortable.siblings('div.label-info');\n            var target = sortable.parent();\n            removeDroppedElement(toRemove, sortable);\n            setPropositionSelects(sortable.closest('[data-definition-container=\"true\"]'));\n            toRemove.remove();\n            if (sortable.find('li').length === 0 && replace === 0) {\n                sortable.data('proptype', 'empty');\n                infoLabel.show();\n            }\n\n            // remove the properties from the drop down\n            $('select[data-properties-provider=' + $(target).attr('id') + ']').each(function (i, item) {\n                $(item).empty();\n            });\n            //remove the disabled attribute to the property textbox if any.\n            var parentTable = $(target).parent().parent().parent();\n            var inputProperty = $(parentTable).find('input.propertyValueField');\n            $(inputProperty).removeAttr('disabled');\n            var inputPropertycheckbox = $(parentTable).find('input.propertyValueConstraint');\n            $(inputPropertycheckbox).removeAttr('disabled');\n\n            // perform any additional delete actions\n            if (self.deleteActions && self.deleteActions[self.propType]) {\n                self.deleteActions[self.propType]();\n            }\n        }\n\n        function idIsNotInList(target, id) {\n            var retVal = true;\n            $(target).find('ul.sortable').find('li').each(function (i, item) {\n                if ($(item).data('key') == id) {\n                    retVal = false;\n                }\n            });\n            return retVal;\n        }\n\n\n        function addNewItemToList(data, sortable, newItem) {\n            var target = $(sortable).parent();\n\n            $(target).find('div.label-info').hide();\n\n            var X = $('<span></span>', {\n                'class': 'glyphicon glyphicon-remove delete-icon',\n                'data-action': 'remove'\n            });\n\n            attachDeleteAction(X);\n            var textContent = data.data.origin.get_node(data.data.obj[0].id).original.text;\n\n            newItem.append(X);\n            newItem.append(textContent);\n\n\n            sortable.append(newItem);\n\n            // set the properties in the properties select\n            if ($(data.data.obj[0]).data('properties')) {\n                var properties = $(data.data.obj[0]).data('properties').split(',');\n                $('select[data-properties-provider=' + $(target).attr('id') + ']').each(function (i, item) {\n                    $(item).empty();\n                    $(properties).each(function (j, property) {\n                        $(item).append($('<option></option>').attr('value', property).text(property));\n                    });\n                });\n            }\n            else {\n                var parent = $(target).closest('.form-group').parent();\n                var inputProperty = $(parent).find('input.propertyValueField');\n                $(inputProperty).attr('disabled', 'disabled');\n                var inputPropertycheckbox = $(parent).find('input.propertyValueConstraint');\n                $(inputPropertycheckbox).attr('disabled', 'disabled');\n            }\n\n            // add the newly dropped element to the set of dropped elements\n            addDroppedElement(newItem, sortable);\n            setPropositionSelects($(sortable).closest('[data-definition-container=\"true\"]'));\n\n            // finally, call any actions specific to the type of proposition being entered/edited\n            if (self.dndActions && self.dndActions[self.propType]) {\n                self.dndActions[self.propType](data.data.obj[0]);\n            }\n        }\n\n        function setPropositionSelects(elem) {\n            var droppedElems = self.droppedElements[self.propType];\n\n            // this prevents an error in the inner loop which tries to\n            // loop over this null object.\n            if (droppedElems === null) {\n                return;\n            }\n\n            var selects = $(elem).find('select[name=\"propositionSelect\"]');\n            $(selects).each(function (i, sel) {\n                var $sortable = $(sel).closest('.drop-parent').find('ul.sortable');\n                var originalSource = $(sel).data('sourceid');\n                $(sel).attr('data-sourceid', '');\n                $(sel).empty();\n                $.each(droppedElems, function (elemKey, elemValue) {\n                    var sources = droppedElems[elemKey]['sources'];\n                    $.each(sources, function (sourceKey, sourceValue) {\n                        var $items = $(sourceValue).find('li');\n                        var selectedItem;\n                        $items.each(function (i, item) {\n                            if ($(item).data('key') == elemKey) {\n                                selectedItem = item;\n                            }\n                            if (selectedItem && $sortable.data('count') != $(sourceValue).data('count')) {\n                                var sourceId = $(sourceValue).data('count');\n                                var value = $(selectedItem).data('key') + '__' + sourceId;\n                                var desc = $(selectedItem).data('desc');\n                                if (self.objSize(sources) > 1) {\n                                    desc += ' [' + sourceKey + ']';\n                                }\n                                var opt = $('<option></option>', {\n                                    'value': value\n                                }).text(desc);\n                                if (value == $(selectedItem).data('key') + '__' + originalSource) {\n                                    opt.attr('selected', 'selected');\n                                }\n                                $(sel).append(opt);\n                            }\n                        });\n                    });\n                });\n            });\n        }\n\n        function attachDeleteAction(elem) {\n            $(elem).each(function (i, item) {\n                $(item).click(function () {\n                    var $toRemove = $(item).closest('li');\n                    var $sortable = $toRemove.closest('ul.sortable');\n                    var dialog = $('#deleteModal');\n                    $(dialog).find('#deleteContent').html('Are you sure you want to remove data element &quot;' + $toRemove.text().trim() + '&quot;?');\n                    $(dialog).find('#deleteButton').on('click', function (e) {\n                        deleteItem($toRemove, $sortable, 0);\n                        $(dialog).modal('hide');\n                    });\n                    $(dialog).modal('show');\n                });\n            });\n        }\n\n        self.dndActions = {\n        };\n        self.deleteActions = {\n        };\n\n    }]);\n}());","\nangular.module('eureka').factory(\n    \"RegisterService\", ['$http', '$q',\n    function( $http, $q ) {\n\n        return ({\n            addNewAccount: addNewAccount\n        });\n\n        function addNewAccount(newAccount) {\n            newAccount.username = newAccount.email;\n            newAccount.fullName = newAccount.firstName + \" \" + newAccount.lastName;\n            newAccount.type = \"LOCAL\";\n            newAccount.loginType = \"INTERNAL\";\n            return $http.post(\"/eureka-services/api/userrequest/new\", newAccount)\n                .then(handleSuccess, handleError);\n        }\n\n        function handleSuccess(response) {\n            return response.data;\n        }\n\n        function handleError(response) {\n            if (!angular.isObject(response.data) && !response.data) {\n                return ($q.reject(\"An unknown error occurred.\"));\n            }\n            return ($q.reject(response.data));\n        }\n    }]\n\n);","(function() {\n\n'use strict';\n\nangular\n    .module('eureka')\n    .factory('users', users);\n\nusers.$inject = ['$http', '$q', 'appProperties'];\n\nfunction users($http, $q, appProperties) {\n\n    let { apiEndpoint } = appProperties;\n\n    return {\n        getUser: getCurrentUser,\n        getRole: getRole\n    };\n\n    function getRole(roleId) {\n        return $http.get(apiEndpoint + '/role/' + roleId).then(function(res) {\n            return res.data;\n        }, function(err) {\n            console.error('role retrieval failed:', err);\n            return err;\n        });\n    }\n\n    function getCurrentUser() {\n        return $http.get(apiEndpoint + '/users/me',\n        {\n            transformResponse: function (data) {\n                try {\n                    let jsonObject = JSON.parse(data); // verify that json is valid\n                    return jsonObject;\n                }\n                catch (e) {\n                    console.log('User is not logged in!');\n                }\n            }\n        }).then(function(res) {\n            let userInfo = res.data;\n            if (!userInfo) {\n                return $q.when(null);\n            }\n            return $q.all(_.map(userInfo.roles, getRole)).then(function(roles) {\n                userInfo.roles = roles;\n                console.log('user info!', userInfo);\n                return new User(userInfo);\n            });\n        }, function(err) {\n            console.error('error getting user:', err);\n        });\n    }\n}\n\nclass User {\n    constructor(info) {\n        this.info = info;\n    }\n\n    hasRole(name) {\n        let { roles } = this.info;\n        return roles.some(role => role.name === name);\n    }\n\n    getFullName() {\n        let { fullName, firstName, lastName } = this.info;\n        return fullName || (firstName + ' ' + lastName);\n    }\n}\n\n}());","/*angular.module('eurekaApp').controller(\n    \"CohortEditController\", ['$scope', 'CohortService', '$stateParams',\n        function( $scope, CohortService, $stateParams) {\n\n            var vm = this;\n\n            if ($stateParams.key) {\n\n                CohortService.getCohort($stateParams.key).then(function(data) {\n                    vm.cohortDestination = data;\n                    vm.getPhenotypes = function() {\n                        CohortService.getPhenotypes(data.cohort).then( function( promises ) {\n\n                            var phenotypes = [];\n                            for (var i = 0; i < promises.length; i++) {\n                                phenotypes.push(new Object({\n                                    \"dataElementKey\": promises[i].data.key,\n                                    \"dataElementDisplayName\": promises[i].data.displayName,\n                                    \"type\": \"SYSTEM\"\n                                }));\n\n                            }\n\n                            vm.cohortDestination.phenotypes = phenotypes;\n\n                            eureka.editor.setup(data.id != null ? data.id : null,\n                                '#userTree', '#definitionContainer', '#savePropositionButton');\n\n                        });\n\n                    };\n\n                    vm.getPhenotypes();\n\n\n                }, displayError);\n\n            }\n\n            function displayError(msg) {\n                vm.errorMsg = msg;\n            }\n\n        }]\n); */\n\n(function() {\n    'use strict';\n\n    angular\n        .module('cohorts')\n        .controller('cohorts.EditController', EditController);\n        \n    EditController.$inject = ['CohortService', '$stateParams'];\n    \n    function EditController(CohortService, $stateParams) {\n        var vm = this;\n\n        if ($stateParams.key) {\n\n            CohortService.getCohort($stateParams.key).then(function(data) {\n                vm.cohortDestination = data;\n                getPhenotypes();\n\n            }, displayError);\n\n        }\n\n        function getPhenotypes() {\n            CohortService.getPhenotypes(data.cohort).then( function( promises ) {\n\n            var phenotypes = [];\n            for (var i = 0; i < promises.length; i++) {\n                phenotypes.push(new Object({\n                    \"dataElementKey\": promises[i].data.key,\n                    \"dataElementDisplayName\": promises[i].data.displayName,\n                    \"type\": \"SYSTEM\"\n                }));\n\n            }\n\n            vm.cohortDestination.phenotypes = phenotypes;\n\n            eureka.editor.setup(data.id !== null ? data.id : null,\n                '#userTree', '#definitionContainer', '#savePropositionButton');\n\n            });\n\n        }\n\n        function displayError(msg) {\n            vm.errorMsg = msg;\n        }\n     }\n})();","/*\nangular.module('eurekaApp').controller(\n    \"CohortController\", ['$scope', 'CohortService',\n    function( $scope, CohortService) {\n\n        var vm = this;\n\n        var getCohorts = function() {\n            CohortService.getCohorts().then(function (data) {\n                vm.cohorts = data;\n            }, displayError);\n\n        };\n        getCohorts();\n\n        $scope.remove = function (key) {\n            CohortService.removeCohort(key);\n            for (var i = 0; i < vm.cohorts.length; i++) {\n                if (vm.cohorts[i].name == key) {\n                    vm.cohorts.splice(i, 1);\n                    break;\n                }\n            }\n\n        };\n\n        function displayError(msg) {\n            vm.errorMsg = msg;\n        }\n    }]\n); */\n\n(function() {\n    'use strict';\n\n    angular\n        .module('cohorts')\n        .controller('cohorts.MainController', MainController);\n        \n    MainController.$inject = ['CohortService'];\n    \n    function MainController(CohortService) {\n        var vm = this;\n        vm.remove = remove;\n        getCohorts();\n\n        function getCohorts() {\n            CohortService.getCohorts().then(function (data) {\n                vm.cohorts = data;\n            }, displayError);\n        }\n\n        function remove(key) {\n            CohortService.removeCohort(key);\n            for (var i = 0; i < vm.cohorts.length; i++) {\n                if (vm.cohorts[i].name == key) {\n                    vm.cohorts.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        function displayError(msg) {\n            vm.errorMsg = msg;\n        }\n\n     }\n})();"],"sourceRoot":"/source/"}